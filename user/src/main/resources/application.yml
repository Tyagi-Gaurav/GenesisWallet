spring:
  active: prod
  liquibase:
    changeLog: classpath:db.changelog/userchangelog.sql
  webflux:
    base-path: /api

server:
  port: ${SERVER_PORT:9090}

accessible:
  endpoints:
    "[GET-/api/status]": ${GET_STATUS:true}
    "[POST-/api/user/create]": ${CREATE_USER:true}
    "[POST-/api/user/login]": ${LOGIN_USER:true}
    "[GET-/actuator/metrics]": ${GET_METRICS:true}
    "[GET-/actuator/config]": ${GET_CONFIG:true}

management:
  server.port: ${SERVER_MGT_PORT:9091}
  endpoint:
    health:
      show-details: always
  endpoints:
    web:
      exposure.include: health, mappings, metrics, configprops
      path-mapping:
        health: healthcheck
        configprops: config

auth:
  tokenDuration: ${TOKEN_DURATION:3650D}
  secret: ${SECRET:19CA249C582715657BDCAB1FB31E69F854443A4FE3CBAFFD215E3F3676}

database:
  driver: "org.postgresql.Driver"
  host: ${DB_HOST:localhost}
  port: ${DB_PORT:3306}
  user: ${DB_USER:user}
  password: ${DB_PWD:password}
  name: ${DB_NAME:user_data}
  schema: USER_SCHEMA
  r2dbcPool:
    initialSize: 2
    maxSize: 8
    maxIdleTime: 300s
    maxCreateConnectionTime: 9s
    maxAcquireTime: 10s
    maxLifeTime: 600s
    validationDepth: LOCAL
    blocking-warmup: true
